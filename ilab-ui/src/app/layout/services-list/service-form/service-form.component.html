<form [formGroup]="form" (ngSubmit)="submit()">
  <div class="container light-grey-background p-3">
    <div class="row">
      <div class="offset-md-4 col-md-4">
        <app-steps [stepsArr]="stepsArr" [activeStep]="activeStep"></app-steps>
      </div>
    </div>
    <div #stepOne>
      <div class="row " >
      <div class="col-md-4">
        <div class="form-group">
          <label >name</label>
          <input type="text" formControlName="name" class="form-control">
        </div>
        <div class="form-group">
          <label >image</label>
          <input type="file" class="form-control" formControlName="image" (change)="uploadImage($event)">
        </div>
        <div class="form-group">
          <label >description</label>
          <textarea formControlName="description" class="form-control"></textarea>
        </div>
      </div>

      <div class="col-md-4" formArrayName="supportedExtensions">
        <label >extensions</label>
        <button type="button" (click)="addControlArray('supportedExtensions')" class="btn-sm btn btn-outline-success ">
          <i class="fa fa-plus" aria-hidden="true"></i>
        </button>
        <div *ngFor="let s of form.get('supportedExtensions')['controls'];let i = index">
          <input type="text" [formControlName]="i" class="form-control">
          <button *ngIf="i != 0" type="button" (click)="deleteControlArray('supportedExtensions',i)">delete</button>
        </div>
      </div>
      <div class="col-md-4" >
        <div *ngFor="let o of optionalArr">
          <label [for]="o">{{o}}</label>
          <input type="checkbox" [id]="o" (change)="addAttribute($event,o)" #optionalRef>
          <div *ngIf="o == 'processes' && multiProcesses">
            <label >multi</label>
            <div>
              <label for="true">true</label>
              <input type="radio" id="true"  formControlName="multi" value="true" >
              <label for="false">false</label>
              <input type="radio" id="false" value="false"  formControlName="multi">
            </div>
          </div>
        </div>

      </div>
      <div class="col-md-12">
        <button type="button" class="btn btn-primary" (click)="next()">next</button>
      </div>

    </div>
    </div>
    <div #stepTwo>
       <div class="row " >
       <div class="col-md-3" formArrayName="materials" *ngIf="form.get('materials')">
        <label >materials</label>
        <button type="button"  (click)="addControlArray('materials')" class="btn-sm btn btn-outline-success ">
          <i class="fa fa-plus" aria-hidden="true"></i>
        </button>
        <div *ngFor="let s of form.get('materials')['controls'];let i = index">
          <input type="text" [formControlName]="i" class="form-control">
          <button type="button" (click)="deleteControlArray('materials',i)" *ngIf="i != 0">delete</button>
        </div>
      </div>
      <div class="col-md-3" formArrayName="thickness" *ngIf="form.get('thickness')">
        <label >thickness</label>
        <button type="button" (click)="addControlArray('thickness')" class="btn-sm btn btn-outline-success ">
          <i class="fa fa-plus" aria-hidden="true"></i>
        </button>
        <div *ngFor="let s of form.get('thickness')['controls'];let i = index">
          <input type="text" [formControlName]="i" class="form-control">
          <button type="button" (click)="deleteControlArray('thickness',i)" *ngIf="i != 0">delete</button>
        </div>
      </div>
      <div class="col-md-3" formArrayName="types" *ngIf="form.get('types')">
        <label >types</label>
        <button type="button" (click)="addControlArray('types')" class="btn-sm btn btn-outline-success ">
          <i class="fa fa-plus" aria-hidden="true"></i>
        </button>
        <div *ngFor="let s of form.get('types')['controls'];let i = index">
          <input type="text" [formControlName]="i" class="form-control">
          <button type="button" (click)="deleteControlArray('types',i)" *ngIf="i != 0">delete</button>
        </div>
      </div>
      <div class="col-md-3" formArrayName="colors" *ngIf="form.get('colors')">
        <label >colors</label>
        <button type="button" (click)="addControlArray('colors')" class="btn-sm btn btn-outline-success ">
          <i class="fa fa-plus" aria-hidden="true"></i>
        </button>
        <div *ngFor="let s of form.get('colors')['controls'];let i = index">
          <input type="text" [formControlName]="i" class="form-control">
          <button type="button" (click)="deleteControlArray('colors',i)" *ngIf="i != 0">delete</button>
        </div>
      </div>
      <div class="col-md-3" formArrayName="units" *ngIf="form.get('units')">
        <label >units</label>
        <button type="button" class="btn-sm btn btn-outline-success " (click)="addControlArray('units')">
          <i class="fa fa-plus" aria-hidden="true"></i>
        </button>
        <div *ngFor="let s of form.get('units')['controls'];let i = index">
          <input type="text" [formControlName]="i" class="form-control">
          <button type="button" (click)="deleteControlArray('units',i)" *ngIf="i != 0">delete</button>
        </div>
      </div>
      <div class="col-md-3" formArrayName="processes" *ngIf="form.get('processes')">
        <label >processes</label>
        <button type="button" class="btn-sm btn btn-outline-success " (click)="addControlArray('processes')">
          <i class="fa fa-plus" aria-hidden="true"></i>
        </button>
        <div *ngFor="let s of form.get('processes')['controls'];let i = index">
          <input type="text" [formControlName]="i" class="form-control">
          <button type="button" (click)="deleteControlArray('processes',i)" *ngIf="i != 0">delete</button>
        </div>
      </div>
      <div class="col-md-12">
        <button type="button" (click)="back()">back</button>
        <button type="submit">submit</button>
      </div>
    </div>
    </div>

  </div>
</form>